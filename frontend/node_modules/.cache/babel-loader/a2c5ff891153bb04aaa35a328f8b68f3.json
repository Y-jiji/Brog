{"remainingRequest":"C:\\Users\\YangTianJi\\Desktop\\Code_Projects\\CKAS\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\YangTianJi\\Desktop\\Code_Projects\\CKAS\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\YangTianJi\\Desktop\\Code_Projects\\CKAS\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\YangTianJi\\Desktop\\Code_Projects\\CKAS\\frontend\\src\\components\\LoginCard.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\YangTianJi\\Desktop\\Code_Projects\\CKAS\\frontend\\src\\components\\LoginCard.vue","mtime":1627176950774},{"path":"C:\\Users\\YangTianJi\\Desktop\\Code_Projects\\CKAS\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\YangTianJi\\Desktop\\Code_Projects\\CKAS\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\YangTianJi\\Desktop\\Code_Projects\\CKAS\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\YangTianJi\\Desktop\\Code_Projects\\CKAS\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdMb2dpbkNhcmQnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsb2dpbl9mb3JtOiB7CiAgICAgICAgdXNlcm5hbWU6ICIiLAogICAgICAgIHBhc3N3b3JkOiAiIgogICAgICB9LAogICAgICByZW1fZmxhZzogZmFsc2UKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIHVzZXJuYW1lX3RtcCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1c2VybmFtZSIpOwogICAgdmFyIHBhc3N3b3JkX3RtcCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJwYXNzd29yZCIpOwoKICAgIGlmICh1c2VybmFtZV90bXApIHsKICAgICAgdGhpcy5sb2dpbl9mb3JtLnVzZXJuYW1lID0gdXNlcm5hbWVfdG1wOwogICAgfQoKICAgIGlmIChwYXNzd29yZF90bXApIHsKICAgICAgdGhpcy5sb2dpbl9mb3JtLnBhc3N3b3JkID0gcGFzc3dvcmRfdG1wOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgZ2V0SG9zdFVybDogZnVuY3Rpb24gZ2V0SG9zdFVybCgpIHsKICAgICAgdmFyIGZ1bGxfcGF0aCA9IHdpbmRvdy5kb2N1bWVudC5sb2NhdGlvbi5ocmVmOwogICAgICB2YXIgcHJvdG9jb2xfaW5kZXggPSBmdWxsX3BhdGguaW5kZXhPZigiOi8vIik7CiAgICAgIHZhciBwcm90b2NvbF9zdHIgPSBmdWxsX3BhdGguc3Vic3RyaW5nKDAsIHByb3RvY29sX2luZGV4KTsKICAgICAgdmFyIGZ1bGxfcGF0aF9zdHJpcHBlZCA9IGZ1bGxfcGF0aC5zdWJzdHJpbmcocHJvdG9jb2xfaW5kZXggKyAzKTsKICAgICAgdmFyIHJvdXRlcl9wYXRoID0gdGhpcy4kcm91dGUucGF0aDsKICAgICAgdmFyIGhvc3RfaW5kZXggPSBmdWxsX3BhdGhfc3RyaXBwZWQuaW5kZXhPZihyb3V0ZXJfcGF0aCk7CiAgICAgIHZhciBmdWxsX2hvc3QgPSBmdWxsX3BhdGhfc3RyaXBwZWQuc3Vic3RyaW5nKDAsIGhvc3RfaW5kZXgpOwogICAgICBjb25zb2xlLmxvZyhmdWxsX3BhdGgpOwogICAgICB2YXIgcHJlZF9pbmRleCA9IGZ1bGxfaG9zdC5sYXN0SW5kZXhPZigiOiIpOwogICAgICB2YXIgcHVyZV9ob3N0ID0gZnVsbF9ob3N0LnN1YnN0cmluZygwLCBwcmVkX2luZGV4KTsKICAgICAgcmV0dXJuIHByb3RvY29sX3N0ciArICI6Ly8iICsgcHVyZV9ob3N0OwogICAgfSwKICAgIG9uTG9naW46IGZ1bmN0aW9uIG9uTG9naW4oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgdXJsID0gdGhpcy5nZXRIb3N0VXJsKCkgKyAnOjUwMDAvdXNlci9sb2dpbi8nOwogICAgICB0aGlzLmF4aW9zLnBvc3QodXJsLCB0aGlzLmxvZ2luX2Zvcm0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEgIT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdGF0dXMgPT0gJzIwMCcpIHsKICAgICAgICAgICAgaWYgKF90aGlzLnJlbV9mbGFnKSB7CiAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oInVzZXJuYW1lIiwgX3RoaXMubG9naW5fZm9ybS51c2VybmFtZSk7CiAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oInBhc3N3b3JkIiwgX3RoaXMubG9naW5fZm9ybS5wYXNzd29yZCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCgnL2Rhc2hib2FyZCcpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9KTsKICAgIH0sCiAgICBqdW1wUmVnaXN0ZXI6IGZ1bmN0aW9uIGp1bXBSZWdpc3RlcigpIHsKICAgICAgdGhpcy4kZW1pdCgnY2hhbmdlJywgJ3JlZ2lzdGVyJyk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["LoginCard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAuBA,eAAA;AACA,EAAA,IAAA,EAAA,WADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,UAAA,EAAA;AACA,QAAA,QAAA,EAAA,EADA;AAEA,QAAA,QAAA,EAAA;AAFA,OADA;AAKA,MAAA,QAAA,EAAA;AALA,KAAA;AAOA,GAVA;AAWA,EAAA,OAXA,qBAWA;AACA,QAAA,YAAA,GAAA,YAAA,CAAA,OAAA,CAAA,UAAA,CAAA;AACA,QAAA,YAAA,GAAA,YAAA,CAAA,OAAA,CAAA,UAAA,CAAA;;AACA,QAAA,YAAA,EAAA;AACA,WAAA,UAAA,CAAA,QAAA,GAAA,YAAA;AACA;;AACA,QAAA,YAAA,EAAA;AACA,WAAA,UAAA,CAAA,QAAA,GAAA,YAAA;AACA;AACA,GApBA;AAqBA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,wBACA;AACA,UAAA,SAAA,GAAA,MAAA,CAAA,QAAA,CAAA,QAAA,CAAA,IAAA;AACA,UAAA,cAAA,GAAA,SAAA,CAAA,OAAA,CAAA,KAAA,CAAA;AACA,UAAA,YAAA,GAAA,SAAA,CAAA,SAAA,CAAA,CAAA,EAAA,cAAA,CAAA;AACA,UAAA,kBAAA,GAAA,SAAA,CAAA,SAAA,CAAA,cAAA,GAAA,CAAA,CAAA;AACA,UAAA,WAAA,GAAA,KAAA,MAAA,CAAA,IAAA;AACA,UAAA,UAAA,GAAA,kBAAA,CAAA,OAAA,CAAA,WAAA,CAAA;AACA,UAAA,SAAA,GAAA,kBAAA,CAAA,SAAA,CAAA,CAAA,EAAA,UAAA,CAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,SAAA;AACA,UAAA,UAAA,GAAA,SAAA,CAAA,WAAA,CAAA,GAAA,CAAA;AACA,UAAA,SAAA,GAAA,SAAA,CAAA,SAAA,CAAA,CAAA,EAAA,UAAA,CAAA;AACA,aAAA,YAAA,GAAA,KAAA,GAAA,SAAA;AACA,KAbA;AAcA,IAAA,OAdA,qBAcA;AAAA;;AACA,UAAA,GAAA,GAAA,KAAA,UAAA,KAAA,mBAAA;AACA,WAAA,KAAA,CAAA,IAAA,CAAA,GAAA,EAAA,KAAA,UAAA,EAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,YAAA,QAAA,CAAA,IAAA,IAAA,SAAA,EAAA;AACA,cAAA,QAAA,CAAA,IAAA,CAAA,MAAA,IAAA,KAAA,EAAA;AACA,gBAAA,KAAA,CAAA,QAAA,EAAA;AACA,cAAA,YAAA,CAAA,OAAA,CAAA,UAAA,EAAA,KAAA,CAAA,UAAA,CAAA,QAAA;AACA,cAAA,YAAA,CAAA,OAAA,CAAA,UAAA,EAAA,KAAA,CAAA,UAAA,CAAA,QAAA;AACA;;AACA,YAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,YAAA;AACA;AACA;AACA,OAVA,EAWA,KAXA,CAWA,UAAA,KAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,OAbA;AAcA,KA9BA;AA+BA,IAAA,YA/BA,0BA+BA;AACA,WAAA,KAAA,CAAA,QAAA,EAAA,UAAA;AACA;AAjCA;AArBA,CAAA","sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <b-card border-variant=\"info\">\r\n      <h1>用户登录界面</h1>\r\n      <b-form @submit=\"onLogin\">\r\n        <b-form-group class=\"row mb-4\" id=\"group-username\" label-cols-sm=\"2\" label=\"用户名：\" label-for=\"input-username\">\r\n          <b-form-input id=\"input-username\" v-model=\"login_form.username\" placeholder=\"请输入用户名\" required></b-form-input>\r\n        </b-form-group>\r\n\r\n        <b-form-group class=\"row mb-4\" id=\"group-password\" label-cols-sm=\"2\" label=\"密码：\" label-for=\"input-password\">\r\n          <b-form-input id=\"input-password\" v-model=\"login_form.password\" placeholder=\"请输入密码\" required></b-form-input>\r\n        </b-form-group>\r\n\r\n        <b-form-checkbox v-model=\"rem_flag\" class=\"mb-3\">记住用户名和密码</b-form-checkbox>\r\n\r\n        <b-button type=\"submit\" size=\"lg\" variant=\"outline-primary\" style=\"margin-right: 50px\">登录</b-button>\r\n        <b-button @click=\"jumpRegister\" size=\"lg\" variant=\"outline-success\">注册账户</b-button>\r\n      </b-form>\r\n    </b-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'LoginCard',\r\n  data() {\r\n    return{\r\n      login_form: {\r\n        username: \"\",\r\n        password: \"\",\r\n      },\r\n      rem_flag: false\r\n    }\r\n  },\r\n  mounted(){\r\n    let username_tmp = localStorage.getItem(\"username\");\r\n    let password_tmp = localStorage.getItem(\"password\");\r\n    if(username_tmp){\r\n      this.login_form.username = username_tmp;\r\n    }\r\n    if(password_tmp){\r\n      this.login_form.password = password_tmp;\r\n    }\r\n  },\r\n  methods: {\r\n    getHostUrl(){\r\n      let full_path = window.document.location.href;\r\n      let protocol_index = full_path.indexOf(\"://\");\r\n      let protocol_str = full_path.substring(0, protocol_index);\r\n      let full_path_stripped = full_path.substring(protocol_index + 3);\r\n      let router_path =  this.$route.path;\r\n      let host_index = full_path_stripped.indexOf(router_path);\r\n      let full_host = full_path_stripped.substring(0, host_index);\r\n      console.log(full_path);\r\n      let pred_index = full_host.lastIndexOf(\":\");\r\n      let pure_host = full_host.substring(0, pred_index);\r\n      return protocol_str + \"://\" + pure_host;\r\n    },\r\n    onLogin(){\r\n      let url = this.getHostUrl() + ':5000/user/login/';\r\n      this.axios.post(url, this.login_form).then((response) => {\r\n        if(response.data != undefined){\r\n          if(response.data.status == '200'){\r\n            if(this.rem_flag){\r\n              localStorage.setItem(\"username\", this.login_form.username);\r\n              localStorage.setItem(\"password\", this.login_form.password);\r\n            }\r\n            this.$router.push('/dashboard');\r\n          }\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n    },\r\n    jumpRegister(){\r\n      this.$emit('change', 'register');\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n\r\n</style>\r\n"],"sourceRoot":"src/components"}]}